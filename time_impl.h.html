<html><body><h1>time_impl.h</h1><a name='top'/><hr/><pre>
<a name=1><font color='blue'>    1</font> /*
<a name=2><font color='blue'>    2</font>  * Copyright (c) 1998-1999 by Sun Microsystems, Inc.
<a name=3><font color='blue'>    3</font>  * All rights reserved.
<a name=4><font color='blue'>    4</font>  */
<a name=5><font color='blue'>    5</font> 
<a name=6><font color='blue'>    6</font> /*
<a name=7><font color='blue'>    7</font>  * Implementation-private.  This header should not be included
<a name=8><font color='blue'>    8</font>  * directly by an application.  The application should instead
<a name=9><font color='blue'>    9</font>  * include <time.h> which includes this header.
<a name=10><font color='blue'>    10</font>  */
<a name=11><font color='blue'>    11</font> 
<a name=12><font color='blue'>    12</font> #ifndef _SYS_TIME_IMPL_H
<a name=13><font color='blue'>    13</font> #define	_SYS_TIME_IMPL_H
<a name=14><font color='blue'>    14</font> 
<a name=15><font color='blue'>    15</font> #pragma ident	"@(#)time_impl.h	1.5	99/10/05 SMI"
<a name=16><font color='blue'>    16</font> 
<a name=17><font color='blue'>    17</font> #include <sys/feature_tests.h>
<a name=18><font color='blue'>    18</font> 
<a name=19><font color='blue'>    19</font> #ifdef	__cplusplus
<a name=20><font color='blue'>    20</font> extern "C" {
<a name=21><font color='blue'>    21</font> #endif
<a name=22><font color='blue'>    22</font> 
<a name=23><font color='blue'>    23</font> #ifndef	_ASM
<a name=24><font color='blue'>    24</font> 
<a name=25><font color='blue'>    25</font> #ifndef _TIME_T
<a name=26><font color='blue'>    26</font> #define	_TIME_T
<a name=27><font color='blue'>    27</font> typedef	long	time_t;		/* time of day in seconds */
<a name=28><font color='blue'>    28</font> #endif	/* _TIME_T */
<a name=29><font color='blue'>    29</font> 
<a name=30><font color='blue'>    30</font> /*
<a name=31><font color='blue'>    31</font>  * Time expressed in seconds and nanoseconds
<a name=32><font color='blue'>    32</font>  */
<a name=33><font color='blue'>    33</font> 
<a name=34><font color='blue'>    34</font> #if (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE)) || \
<a name=35><font color='blue'>    35</font> 	(_POSIX_C_SOURCE > 2) || defined(__EXTENSIONS__)
<a name=36><font color='blue'>    36</font> typedef struct  timespec {		/* definition per POSIX.4 */  <font color="red">&lt;<a href="../../../rxref_main.html#4527"target="main">timespec</a>&gt;</font>
<a name=37><font color='blue'>    37</font> 	time_t		tv_sec;		/* seconds */
<a name=38><font color='blue'>    38</font> 	long		tv_nsec;	/* and nanoseconds */
<a name=39><font color='blue'>    39</font> } timespec_t;  <font color="red">&lt;<a href="../../../rxref_main.html#4580"target="main">typedef:timespec_t</a>&gt;</font>
<a name=40><font color='blue'>    40</font> 
<a name=41><font color='blue'>    41</font> #if defined(_SYSCALL32)
<a name=42><font color='blue'>    42</font> 
<a name=43><font color='blue'>    43</font> #include <sys/types32.h>
<a name=44><font color='blue'>    44</font> 
<a name=45><font color='blue'>    45</font> #define	TIMESPEC32_TO_TIMESPEC(ts, ts32)	{	\
<a name=46><font color='blue'>    46</font> 	(ts)->tv_sec = (time_t)(ts32)->tv_sec;		\
<a name=47><font color='blue'>    47</font> 	(ts)->tv_nsec = (ts32)->tv_nsec;		\
<a name=48><font color='blue'>    48</font> }
<a name=49><font color='blue'>    49</font> 
<a name=50><font color='blue'>    50</font> #define	TIMESPEC_TO_TIMESPEC32(ts32, ts)	{	\
<a name=51><font color='blue'>    51</font> 	(ts32)->tv_sec = (time32_t)(ts)->tv_sec;	\
<a name=52><font color='blue'>    52</font> 	(ts32)->tv_nsec = (ts)->tv_nsec;		\
<a name=53><font color='blue'>    53</font> }
<a name=54><font color='blue'>    54</font> 
<a name=55><font color='blue'>    55</font> #define	TIMESPEC_OVERFLOW(ts)		\
<a name=56><font color='blue'>    56</font> 	((ts)->tv_sec < TIME32_MIN || (ts)->tv_sec > TIME32_MAX)
<a name=57><font color='blue'>    57</font> 
<a name=58><font color='blue'>    58</font> #endif	/* _SYSCALL32 */
<a name=59><font color='blue'>    59</font> 
<a name=60><font color='blue'>    60</font> typedef struct timespec timestruc_t;	/* definition per SVr4 */  <font color="red">&lt;<a href="../../../rxref_main.html#4598"target="main">typedef:timestruc_t</a>&gt;</font>
<a name=61><font color='blue'>    61</font> 
<a name=62><font color='blue'>    62</font> #endif /* (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE_))... */
<a name=63><font color='blue'>    63</font> 
<a name=64><font color='blue'>    64</font> /*
<a name=65><font color='blue'>    65</font>  * The following has been left in for backward compatibility. Portable
<a name=66><font color='blue'>    66</font>  * applications should not use the structure name timestruc.
<a name=67><font color='blue'>    67</font>  */
<a name=68><font color='blue'>    68</font> 
<a name=69><font color='blue'>    69</font> #if (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE)) || \
<a name=70><font color='blue'>    70</font> 	defined(__EXTENSIONS__)
<a name=71><font color='blue'>    71</font> #define	timestruc	timespec	/* structure name per SVr4 */
<a name=72><font color='blue'>    72</font> #endif /* (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE))... */
<a name=73><font color='blue'>    73</font> 
<a name=74><font color='blue'>    74</font> /*
<a name=75><font color='blue'>    75</font>  * Timer specification
<a name=76><font color='blue'>    76</font>  */
<a name=77><font color='blue'>    77</font> #if (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE)) || \
<a name=78><font color='blue'>    78</font> 	(_POSIX_C_SOURCE > 2) || defined(__EXTENSIONS__)
<a name=79><font color='blue'>    79</font> typedef struct itimerspec {		/* definition per POSIX.4 */  <font color="red">&lt;<a href="../../../rxref_main.html#4617"target="main">itimerspec</a>&gt;</font>
<a name=80><font color='blue'>    80</font> 	struct timespec	it_interval;	/* timer period */
<a name=81><font color='blue'>    81</font> 	struct timespec	it_value;	/* timer expiration */
<a name=82><font color='blue'>    82</font> } itimerspec_t;  <font color="red">&lt;<a href="../../../rxref_main.html#4665"target="main">typedef:itimerspec_t</a>&gt;</font>
<a name=83><font color='blue'>    83</font> 
<a name=84><font color='blue'>    84</font> #if defined(_SYSCALL32)
<a name=85><font color='blue'>    85</font> 
<a name=86><font color='blue'>    86</font> #define	ITIMERSPEC32_TO_ITIMERSPEC(it, it32)	{	\
<a name=87><font color='blue'>    87</font> 	TIMESPEC32_TO_TIMESPEC(&(it)->it_interval, &(it32)->it_interval); \
<a name=88><font color='blue'>    88</font> 	TIMESPEC32_TO_TIMESPEC(&(it)->it_value, &(it32)->it_value);	\
<a name=89><font color='blue'>    89</font> }
<a name=90><font color='blue'>    90</font> 
<a name=91><font color='blue'>    91</font> #define	ITIMERSPEC_TO_ITIMERSPEC32(it32, it)	{	\
<a name=92><font color='blue'>    92</font> 	TIMESPEC_TO_TIMESPEC32(&(it32)->it_interval, &(it)->it_interval); \
<a name=93><font color='blue'>    93</font> 	TIMESPEC_TO_TIMESPEC32(&(it32)->it_value, &(it)->it_value);	\
<a name=94><font color='blue'>    94</font> }
<a name=95><font color='blue'>    95</font> 
<a name=96><font color='blue'>    96</font> #define	ITIMERSPEC_OVERFLOW(it)				\
<a name=97><font color='blue'>    97</font> 	(TIMESPEC_OVERFLOW(&(it)->it_interval) &&	\
<a name=98><font color='blue'>    98</font> 	TIMESPEC_OVERFLOW(&(it)->it_value))
<a name=99><font color='blue'>    99</font> 
<a name=100><font color='blue'>    100</font> #endif	/* _SYSCALL32 */
<a name=101><font color='blue'>    101</font> 
<a name=102><font color='blue'>    102</font> #endif /* (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE)) ... */
<a name=103><font color='blue'>    103</font> 
<a name=104><font color='blue'>    104</font> #endif	/* _ASM */
<a name=105><font color='blue'>    105</font> 
<a name=106><font color='blue'>    106</font> #if !defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE) || \
<a name=107><font color='blue'>    107</font> 	(_POSIX_C_SOURCE > 2) || defined(__EXTENSIONS__)
<a name=108><font color='blue'>    108</font> 
<a name=109><font color='blue'>    109</font> #define	__CLOCK_REALTIME0	0	/* wall clock, bound to LWP */
<a name=110><font color='blue'>    110</font> #define	CLOCK_VIRTUAL		1	/* user CPU usage clock */
<a name=111><font color='blue'>    111</font> #define	CLOCK_PROF		2	/* user and system CPU usage clock */
<a name=112><font color='blue'>    112</font> #define	__CLOCK_REALTIME3	3	/* wall clock, not bound */
<a name=113><font color='blue'>    113</font> #define	CLOCK_HIGHRES		4	/* high resolution clock */
<a name=114><font color='blue'>    114</font> 
<a name=115><font color='blue'>    115</font> #ifdef _KERNEL
<a name=116><font color='blue'>    116</font> #define	CLOCK_MAX		5
<a name=117><font color='blue'>    117</font> #endif
<a name=118><font color='blue'>    118</font> 
<a name=119><font color='blue'>    119</font> /*
<a name=120><font color='blue'>    120</font>  * Define CLOCK_REALTIME as per-process if PTHREADS or explicitly requested
<a name=121><font color='blue'>    121</font>  *   NOTE: In the future, per-LWP semantics will be removed and
<a name=122><font color='blue'>    122</font>  *   __CLOCK_REALTIME0 will have per-process semantics (see timer_create(3R))
<a name=123><font color='blue'>    123</font>  */
<a name=124><font color='blue'>    124</font> #if (_POSIX_C_SOURCE >= 199506L) || defined(_POSIX_PER_PROCESS_TIMER_SOURCE)
<a name=125><font color='blue'>    125</font> #define	CLOCK_REALTIME	__CLOCK_REALTIME3
<a name=126><font color='blue'>    126</font> #else
<a name=127><font color='blue'>    127</font> #define	CLOCK_REALTIME	__CLOCK_REALTIME0
<a name=128><font color='blue'>    128</font> #endif
<a name=129><font color='blue'>    129</font> 
<a name=130><font color='blue'>    130</font> #define	TIMER_RELTIME	0x0		/* set timer relative */
<a name=131><font color='blue'>    131</font> #define	TIMER_ABSTIME	0x1		/* set timer absolute */
<a name=132><font color='blue'>    132</font> 
<a name=133><font color='blue'>    133</font> #endif	/* (!defined(_POSIX_C_SOURCE) && !defined(_XOPEN_SOURCE))... */
<a name=134><font color='blue'>    134</font> 
<a name=135><font color='blue'>    135</font> #ifdef	__cplusplus
<a name=136><font color='blue'>    136</font> }
<a name=137><font color='blue'>    137</font> #endif
<a name=138><font color='blue'>    138</font> 
<a name=139><font color='blue'>    139</font> #endif	/* _SYS_TIME_IMPL_H */
</pre><hr/></body></html>
